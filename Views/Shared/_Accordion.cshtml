@using System.Collections.Generic
@using Digitalisert.Models
@model IEnumerable<ResourceModel.Resource>

<ul class="accordion" data-accordion>
  @foreach(var resource in Model)
  {
    <li class="accordion-item" data-accordion-item>
      <a href="#" class="accordion-title">
        <small class="subheader">@resource.Code?.FirstOrDefault()</small>
        @resource.Title?.FirstOrDefault()

        @foreach (var type in resource.Type)
        {
          <span class="label primary float-right">@type</span>
        }
      </a>
      <div class="accordion-content" data-tab-content>
        <a href="/Home/Resource/@(resource.Context)/@(resource.ResourceId)" class="h2">
              <small class="text-muted">@resource.Code?.FirstOrDefault()</small>
              @resource.Title?.FirstOrDefault()
        </a>

        <div class="float-right">
          @foreach (var subType in resource.SubType ?? new string[] { })
          {
            <span class="label secondary">@subType</span>
          }

          @foreach (var tags in resource.Tags ?? new string[] { })
          {
            <span class="label">@tags</span>
          }
        </div>

        @foreach (var body in resource.Body ?? new string[] { })
        {
          <p class="text-break">@body</p>
        }
      </div>
    </li>
  }
</ul>
